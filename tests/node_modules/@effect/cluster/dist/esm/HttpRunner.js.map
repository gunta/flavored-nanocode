{"version":3,"file":"HttpRunner.js","names":["HttpClient","HttpClientRequest","HttpRouter","Socket","RpcClient","RpcSerialization","RpcServer","Effect","Layer","Runners","RpcClientProtocol","RunnerServer","Sharding","normalizePath","path","startsWith","layerClientProtocolHttp","options","effect","gen","serialization","client","https","address","clientWithUrl","mapRequest","prependUrl","host","port","makeProtocolHttp","pipe","provideService","layerClientProtocolHttpDefault","layerClientProtocolWebsocket","constructor","WebSocketConstructor","fnUntraced","socket","makeWebSocket","makeProtocolSocket","layerClientProtocolWebsocketDefault","toHttpEffect","handlers","build","layerHandlers","toHttpApp","Rpcs","spanPrefix","disableTracing","provide","toHttpEffectWebsocket","toHttpAppWebsocket","layerClient","layer","provideMerge","layerRpc","layerHttpOptions","layerWithClients","layerProtocolHttp","layerWebsocketOptions","layerProtocolWebsocket","layerHttp","serve","layerHttpClientOnly","layerClientOnly","layerWebsocket","layerWebsocketClientOnly"],"sources":["../../src/HttpRunner.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}