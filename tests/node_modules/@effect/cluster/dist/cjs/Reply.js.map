{"version":3,"file":"Reply.js","names":["Rpc","_interopRequireWildcard","require","Context","Data","Effect","Exit","FiberId","FiberRef","_Function","_Predicate","Schema","_ClusterError","_Snowflake","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","isReply","u","hasProperty","ReplyWithContext","TaggedClass","fromDefect","options","reply","WithExit","requestId","id","exit","die","encodeSync","Defect","defect","context","empty","rpc","neverRpc","interrupt","none","make","success","Never","error","payload","schemaCache","Reply","schema","Union","Chunk","Encoded","Struct","_tag","Literal","String","Unknown","sequence","Number","values","Array","emptyFrom","Snowflake","BigInt","undefined","schemaFromSelf","declare","typeConstructor","successSchema","transform","SnowflakeFromString","NonEmptyArray","decode","encoded","encode","identity","withRequestId","exitSchema","serialize","self","MalformedMessage","refail","locally","currentContext","serializeLastReceived","lastReceivedReply","succeedNone","asSome","value"],"sources":["../../src/Reply.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}