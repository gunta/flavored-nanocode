{"version":3,"file":"HttpRunner.js","names":["HttpClient","_interopRequireWildcard","require","HttpClientRequest","HttpRouter","Socket","RpcClient","RpcSerialization","RpcServer","Effect","Layer","_Runners","Runners","RunnerServer","Sharding","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","normalizePath","path","startsWith","layerClientProtocolHttp","options","effect","RpcClientProtocol","gen","serialization","client","https","address","clientWithUrl","mapRequest","prependUrl","host","port","makeProtocolHttp","pipe","provideService","exports","layerClientProtocolHttpDefault","layerClientProtocolWebsocket","constructor","WebSocketConstructor","fnUntraced","socket","makeWebSocket","makeProtocolSocket","layerClientProtocolWebsocketDefault","toHttpEffect","handlers","build","layerHandlers","toHttpApp","Rpcs","spanPrefix","disableTracing","provide","toHttpEffectWebsocket","toHttpAppWebsocket","layerClient","layer","provideMerge","layerRpc","layerHttpOptions","layerWithClients","layerProtocolHttp","layerWebsocketOptions","layerProtocolWebsocket","layerHttp","serve","layerHttpClientOnly","layerClientOnly","layerWebsocket","layerWebsocketClientOnly"],"sources":["../../src/HttpRunner.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}